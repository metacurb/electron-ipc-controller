---
sidebar_position: 2
title: Quickstart
---

# Quickstart

## 1. Installation

```bash npm2yarn
npm install @electron-ipc-bridge/core reflect-metadata
npm install -D @electron-ipc-bridge/vite-plugin
```

## 2. Configure TypeScript

Ensure your tsconfig.json has the following options enabled to support decorators:

```json
{
  "compilerOptions": {
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  }
}
```

:::note
You must import `reflect-metadata` at the very top of your application entry point.
:::

## 3. Configure Vite (for Type Generation)

This is optional, but without it you lose type generation. Add the plugin to your `vite.config.ts`.

```typescript title="vite.config.ts"
import { electronIpcController } from "@electron-ipc-bridge/vite-plugin";

export default {
  plugins: [electronIpcController()],
};
```

## 4. Create a Controller

Define a class to handle IPC messages.

```typescript title="src/main/maths.controller.ts"
import { IpcController, IpcHandle } from "@electron-ipc-bridge/core";

@IpcController()
export class MathsController {
  @IpcHandle()
  async add(a: number, b: number): Promise<number> {
    return a + b;
  }
}
```

## 5. Register in Main Process

```typescript title="src/main/index.ts"
import "reflect-metadata";

import { createIpcApp } from "@electron-ipc-bridge/core";
import { MathsController } from "./maths.controller";

const app = createIpcApp({
  controllers: [MathsController],
  resolver: {
    // This may differ depending on your implementation
    resolve: (Cls) => new Cls(),
  },
});
```

## 6. Setup Preload Script

Expose the API to the renderer.

```typescript title="src/preload/index.ts"
import { setupPreload } from "@electron-ipc-bridge/core/preload";

setupPreload();
```

## 7. Use in Renderer

The types are automatically generated! In your renderer process, they will look something like this:

```ts title="src/renderer/ipc.types.ts"
// Auto-generated by @electron-ipc-bridge/vite-plugin
// Do not edit manually

export interface IpcApi {
  maths: {
    add(a: number, b: number): Promise<number>;
  };
}
```

```ts title="src/preload/ipc.d.ts"
// Auto-generated by @electron-ipc-bridge/vite-plugin
// Do not edit manually

import type { IpcApi } from "../renderer/ipc.types";

declare global {
  interface Window {
    ipc: IpcApi;
  }
}

export {};
```

By default, the global declaration is generated next to your preload entry. If you customise `types.global`, the output path will differ.

```typescript title="src/renderer/App.tsx"
const result = await window.ipc.maths.add(5, 10);
console.log(result); // 15
```

See [Preload Integration](./guides/preload.md) for fully managed vs manual preload options.
